<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则表达式 | N-book</title>
    <meta name="description" content="记录一些技术方面的文章">
    <link rel="icon" href="/n-book/logo.png">
  <link rel="manifest" href="/n-book/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/n-book/assets/css/0.styles.8647af70.css" as="style"><link rel="preload" href="/n-book/assets/js/app.00669d2d.js" as="script"><link rel="preload" href="/n-book/assets/js/4.5c88fff9.js" as="script"><link rel="prefetch" href="/n-book/assets/js/10.66c97b87.js"><link rel="prefetch" href="/n-book/assets/js/100.25cd6efd.js"><link rel="prefetch" href="/n-book/assets/js/11.d97ba4f9.js"><link rel="prefetch" href="/n-book/assets/js/12.8a7fa5f8.js"><link rel="prefetch" href="/n-book/assets/js/13.5c6c1dfb.js"><link rel="prefetch" href="/n-book/assets/js/14.c5caa02e.js"><link rel="prefetch" href="/n-book/assets/js/15.6bba582a.js"><link rel="prefetch" href="/n-book/assets/js/16.15881af1.js"><link rel="prefetch" href="/n-book/assets/js/17.58f3bf6d.js"><link rel="prefetch" href="/n-book/assets/js/18.41a59aa0.js"><link rel="prefetch" href="/n-book/assets/js/19.372839fc.js"><link rel="prefetch" href="/n-book/assets/js/20.366470b6.js"><link rel="prefetch" href="/n-book/assets/js/21.64ee41da.js"><link rel="prefetch" href="/n-book/assets/js/22.037051e6.js"><link rel="prefetch" href="/n-book/assets/js/23.aaf071e1.js"><link rel="prefetch" href="/n-book/assets/js/24.9323b659.js"><link rel="prefetch" href="/n-book/assets/js/25.efd078a6.js"><link rel="prefetch" href="/n-book/assets/js/26.e088dd56.js"><link rel="prefetch" href="/n-book/assets/js/27.23686290.js"><link rel="prefetch" href="/n-book/assets/js/28.7561d341.js"><link rel="prefetch" href="/n-book/assets/js/29.c2bccad7.js"><link rel="prefetch" href="/n-book/assets/js/3.a2cc91fe.js"><link rel="prefetch" href="/n-book/assets/js/30.e41777e5.js"><link rel="prefetch" href="/n-book/assets/js/31.8fa8342a.js"><link rel="prefetch" href="/n-book/assets/js/32.4a720fec.js"><link rel="prefetch" href="/n-book/assets/js/33.f4bcb093.js"><link rel="prefetch" href="/n-book/assets/js/34.b319e6cc.js"><link rel="prefetch" href="/n-book/assets/js/35.349f48cb.js"><link rel="prefetch" href="/n-book/assets/js/36.40f0f5b8.js"><link rel="prefetch" href="/n-book/assets/js/37.d825f129.js"><link rel="prefetch" href="/n-book/assets/js/38.03ef6cd3.js"><link rel="prefetch" href="/n-book/assets/js/39.5616fe5e.js"><link rel="prefetch" href="/n-book/assets/js/40.06b60369.js"><link rel="prefetch" href="/n-book/assets/js/41.c8f4431f.js"><link rel="prefetch" href="/n-book/assets/js/42.611e129f.js"><link rel="prefetch" href="/n-book/assets/js/43.090fb933.js"><link rel="prefetch" href="/n-book/assets/js/44.95113469.js"><link rel="prefetch" href="/n-book/assets/js/45.7fd92109.js"><link rel="prefetch" href="/n-book/assets/js/46.411b0cb5.js"><link rel="prefetch" href="/n-book/assets/js/47.c4ed96a6.js"><link rel="prefetch" href="/n-book/assets/js/48.363d6e9d.js"><link rel="prefetch" href="/n-book/assets/js/49.a6580a6f.js"><link rel="prefetch" href="/n-book/assets/js/5.7ed2b6ce.js"><link rel="prefetch" href="/n-book/assets/js/50.80fdc641.js"><link rel="prefetch" href="/n-book/assets/js/51.9fca5b30.js"><link rel="prefetch" href="/n-book/assets/js/52.7a12bef7.js"><link rel="prefetch" href="/n-book/assets/js/53.0a0223c1.js"><link rel="prefetch" href="/n-book/assets/js/54.f5e1f5f6.js"><link rel="prefetch" href="/n-book/assets/js/55.3942d1de.js"><link rel="prefetch" href="/n-book/assets/js/56.6edb51e4.js"><link rel="prefetch" href="/n-book/assets/js/57.ea4bffdf.js"><link rel="prefetch" href="/n-book/assets/js/58.e7e0ee95.js"><link rel="prefetch" href="/n-book/assets/js/59.4098f04a.js"><link rel="prefetch" href="/n-book/assets/js/6.b2aebbbe.js"><link rel="prefetch" href="/n-book/assets/js/60.db12ab5e.js"><link rel="prefetch" href="/n-book/assets/js/61.031fb8bd.js"><link rel="prefetch" href="/n-book/assets/js/62.329f47c4.js"><link rel="prefetch" href="/n-book/assets/js/63.b2f2abcc.js"><link rel="prefetch" href="/n-book/assets/js/64.dc588d61.js"><link rel="prefetch" href="/n-book/assets/js/65.d599496d.js"><link rel="prefetch" href="/n-book/assets/js/66.69417e8c.js"><link rel="prefetch" href="/n-book/assets/js/67.d93755f8.js"><link rel="prefetch" href="/n-book/assets/js/68.f25092ea.js"><link rel="prefetch" href="/n-book/assets/js/69.2de4fe7c.js"><link rel="prefetch" href="/n-book/assets/js/7.157f3540.js"><link rel="prefetch" href="/n-book/assets/js/70.282e9d03.js"><link rel="prefetch" href="/n-book/assets/js/71.504f689e.js"><link rel="prefetch" href="/n-book/assets/js/72.a2d94f4f.js"><link rel="prefetch" href="/n-book/assets/js/73.07c4c964.js"><link rel="prefetch" href="/n-book/assets/js/74.89c222e9.js"><link rel="prefetch" href="/n-book/assets/js/75.820bdfb7.js"><link rel="prefetch" href="/n-book/assets/js/76.2407d5c9.js"><link rel="prefetch" href="/n-book/assets/js/77.ec939a5f.js"><link rel="prefetch" href="/n-book/assets/js/78.07709c00.js"><link rel="prefetch" href="/n-book/assets/js/79.cc7a4faa.js"><link rel="prefetch" href="/n-book/assets/js/8.c2fc7b68.js"><link rel="prefetch" href="/n-book/assets/js/80.fd9ef1eb.js"><link rel="prefetch" href="/n-book/assets/js/81.df45910d.js"><link rel="prefetch" href="/n-book/assets/js/82.450bb3f2.js"><link rel="prefetch" href="/n-book/assets/js/83.32c188fc.js"><link rel="prefetch" href="/n-book/assets/js/84.294bd5d9.js"><link rel="prefetch" href="/n-book/assets/js/85.6de4096a.js"><link rel="prefetch" href="/n-book/assets/js/86.0954b5d1.js"><link rel="prefetch" href="/n-book/assets/js/87.e7762817.js"><link rel="prefetch" href="/n-book/assets/js/88.97035a60.js"><link rel="prefetch" href="/n-book/assets/js/89.53a151f5.js"><link rel="prefetch" href="/n-book/assets/js/9.e94df2f4.js"><link rel="prefetch" href="/n-book/assets/js/90.a6f97b09.js"><link rel="prefetch" href="/n-book/assets/js/91.22f24c28.js"><link rel="prefetch" href="/n-book/assets/js/92.75844e0d.js"><link rel="prefetch" href="/n-book/assets/js/93.d6922f54.js"><link rel="prefetch" href="/n-book/assets/js/94.3dd08f5f.js"><link rel="prefetch" href="/n-book/assets/js/95.6a4c80ba.js"><link rel="prefetch" href="/n-book/assets/js/96.c25099ac.js"><link rel="prefetch" href="/n-book/assets/js/97.1e5183d7.js"><link rel="prefetch" href="/n-book/assets/js/98.bbdf3f45.js"><link rel="prefetch" href="/n-book/assets/js/99.a020358d.js"><link rel="prefetch" href="/n-book/assets/js/vendors~docsearch.8bf892cf.js">
    <link rel="stylesheet" href="/n-book/assets/css/0.styles.8647af70.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/n-book/" class="home-link router-link-active"><!----> <span class="site-name">N-book</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/n-book/" class="nav-link">Home</a></div><div class="nav-item"><a href="/n-book/typescript/" class="nav-link">TypeScript</a></div><div class="nav-item"><a href="/n-book/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="https://nirodu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/NiroDu/N-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/n-book/" class="nav-link">Home</a></div><div class="nav-item"><a href="/n-book/typescript/" class="nav-link">TypeScript</a></div><div class="nav-item"><a href="/n-book/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="https://nirodu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/NiroDu/N-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-group-items"><li><a href="/n-book/" class="sidebar-link">📖</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JavaScripts专栏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>React 专栏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Vue 专栏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Webpack 专栏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>TypeScript 专栏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>自动化测试</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Interview 专栏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>其他</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/n-book/other/regular_expression.html" class="active sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#在线工具" class="sidebar-link">在线工具</a></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#基础知识" class="sidebar-link">基础知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#flags（标志符或修饰符）" class="sidebar-link">Flags（标志符或修饰符）</a></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#character-sets（字符集合）" class="sidebar-link">Character Sets（字符集合）</a></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#quantifiers-量词" class="sidebar-link">Quantifiers (量词)</a></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#metacharacters（元字符）" class="sidebar-link">Metacharacters（元字符）</a></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#special-characters-特殊字符" class="sidebar-link">Special Characters (特殊字符)</a></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#groups（分组）" class="sidebar-link">Groups（分组）</a></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#assertion（断言）" class="sidebar-link">Assertion（断言）</a></li></ul></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#非贪婪匹配（non-greedy）" class="sidebar-link">非贪婪匹配（non-greedy）</a></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#多行匹配" class="sidebar-link">多行匹配</a></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#应用例子" class="sidebar-link">应用例子</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#_1-匹配手机号码" class="sidebar-link">1. 匹配手机号码</a></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#_2-匹配电子邮件" class="sidebar-link">2. 匹配电子邮件</a></li></ul></li><li class="sidebar-sub-header"><a href="/n-book/other/regular_expression.html#参考文章" class="sidebar-link">参考文章</a></li></ul></li><li><a href="/n-book/other/yarn_npm_resource_change.html" class="sidebar-link">yarn、npm 更换下载源</a></li><li><a href="/n-book/other/common_commands.html" class="sidebar-link">OSX上的一些常用命令</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h1> <h2 id="在线工具"><a href="#在线工具" class="header-anchor">#</a> 在线工具</h2> <p><a href="https://regex101.com/" target="_blank" rel="noopener noreferrer">regex101<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>正则的在线工具只推荐regex101，解释正则表达式、显示匹配信息、提供常用语法参考等，足够强大和界面友好。</p> <h2 id="基础知识"><a href="#基础知识" class="header-anchor">#</a> 基础知识</h2> <p>下面开始正式内容，在 Javascript 中，一个正则表达式以 <code>/</code> 开头和结尾，所以 <code>/hello regexp/</code> 就是一个正则表达式。</p> <p>正则中有几个大类需要了解：Flags、Character Sets、Quantifiers、Metacharacters、Special Characters、Groups、Assertion，下面我们一一来讲解。</p> <h3 id="flags（标志符或修饰符）"><a href="#flags（标志符或修饰符）" class="header-anchor">#</a> Flags（标志符或修饰符）</h3> <p>Flags 写在结束的<code>/</code>之后，可以影响整个正则表达式的匹配行为。常见的 flags 有：</p> <ol><li><code>g</code>：全局匹配（global）；正则表达式默认只会返回第一个匹配结果，使用标志符 g 则可以返回所有匹配。</li> <li><code>i</code>：忽略大小写（case-insensitive）；在匹配时忽略英文字母的大小写。</li> <li><code>m</code>：多行匹配（multiline）；将开始和结束字符（^和$）视为在多行上工作，即分别匹配每一行（由 \n 或 \r 分割）的开始和结束，而不只是只匹配整个输入字符串的最开始和最末尾处。</li></ol> <p>所有的 flags 都打上的话，那就是<code>/^*$/gimsuy</code>：
<img src="/n-book/assets/img/regex_1.5c2709a5.png" alt="regex_1"></p> <h3 id="character-sets（字符集合）"><a href="#character-sets（字符集合）" class="header-anchor">#</a> Character Sets（字符集合）</h3> <p>用于匹配字符集合中的任意一个字符。</p> <ol><li><code>[xyz]</code>：匹配 <code>x</code>或<code>y</code>或<code>z</code>。</li> <li><code>[^xyz]</code>：补集，匹配除了 <code>x</code> <code>y</code> <code>z</code>的其他字符。</li> <li><code>[a-z]</code>：匹配从 <code>a</code> 到 <code>z</code> 的任意字符。</li> <li><code>[^a-n]</code>：补集，匹配除了 <code>a</code> 到 <code>n</code> 的其他字符。</li> <li><code>[A-Z]</code>：匹配从 <code>A</code> 到 <code>Z</code> 的任意字符。</li> <li><code>[0-9]</code>：匹配从 <code>0</code> 到 <code>9</code> 的任意数字。</li></ol> <p>匹配所有的字母和数字可写成：<code>/[a-zA-Z0-9]/</code> 或者 <code>/[a-z0-9]/i</code>。</p> <h3 id="quantifiers-量词"><a href="#quantifiers-量词" class="header-anchor">#</a> Quantifiers (量词)</h3> <p>使用 Quantifiers 来实现重复匹配。</p> <ol><li><code>{n}</code>：匹配 <code>n</code> 次。</li> <li><code>{n,m}</code>：匹配 <code>n到m</code> 次。</li> <li><code>{n,}</code>：匹配 <code>&gt;=n</code> 次，即<code>大于n</code>次。</li> <li><code>?</code>：匹配 <code>0 || 1</code> 次，即 <code>0或者1</code> 次。</li> <li><code>*</code>：匹配 <code>&gt;=0</code> 次，等价于 <code>{0,}</code>。</li> <li><code>+</code>：匹配 <code>&gt;=1</code> 次，等价于 <code>{1,}</code>。</li></ol> <p>如字段<code>abczzzzzzzxyabcabcabc</code>，使用<code>/z*xy/gi</code>，会匹配出<code>zzzzzzzxy</code>；</p> <p>使用<code>/z{0,2}xy/gi</code>，会匹配出<code>zzxy</code>；</p> <h3 id="metacharacters（元字符）"><a href="#metacharacters（元字符）" class="header-anchor">#</a> Metacharacters（元字符）</h3> <p>在正则表达式中有一些具有特殊含义的字母，被称为元字符，简言之，元字符就是描述字符的字符，它用于对字符表达式的内容、转换及各种操作信息进行描述。</p> <p>常见的元字符有：</p> <ol><li><code>\d</code>：匹配任意数字，等价于 <code>[0-9]</code>。</li> <li><code>\D</code>：匹配任意非数字字符；<code>\d</code> 的补集。</li> <li><code>\w</code>：匹配任意基本拉丁字母表中的字母和数字，以及下划线；等价于 <code>[A-Za-z0-9_]</code>。</li> <li><code>\W</code>：匹配任意非基本拉丁字母表中的字母和数字，以及下划线；<code>\w</code> 的补集。</li> <li><code>\s</code>：匹配一个空白符，包括空格、制表符、换页符、换行符和其他 Unicode 空格。</li> <li><code>\S</code>：匹配一个非空白符；<code>\s</code> 的补集。</li> <li><code>\b</code>：匹配一个零宽单词边界，如一个字母与一个空格之间；例如，<code>/\bno/</code>匹配 <code>at noon</code> 中的 <code>no</code>，<code>/ly\b/</code> 匹配 <code>possibly yesterday.</code> 中的 <code>ly</code>。</li> <li><code>\B</code>：匹配一个零宽非单词边界，如两个字母之间或两个空格之间；例如，<code>/\Bon/</code> 匹配 <code>at noon</code> 中的 <code>on</code>，<code>/ye\B/</code> 匹配 <code>possibly yesterday.</code> 中的 <code>ye</code>。</li> <li><code>\t</code>：匹配一个水平制表符（tab)。</li> <li><code>\n</code>：匹配一个换行符（newline)。</li> <li><code>\r</code>：匹配一个回车符（carriage return)。</li></ol> <h4 id="理解-b-零宽单词边界"><a href="#理解-b-零宽单词边界" class="header-anchor">#</a> 理解<code>\b 零宽单词边界</code></h4> <p>我们看以下的匹配：
<img src="/n-book/assets/img/regex_2.61bad9af.png" alt="regex_2"></p> <p>上图中，紫红色竖线表示的位置就是零宽单词边界（Matches a zero-width word boundary），说白了，就是一个字母的两侧是否有空格，我们输入内容，就知道匹配的是什么了：
<img src="/n-book/assets/img/regex_3.9b3661af.png" alt="regex_3"></p> <h3 id="special-characters-特殊字符"><a href="#special-characters-特殊字符" class="header-anchor">#</a> Special Characters (特殊字符)</h3> <p>正则中存在一些特殊字符，它们不会按照字面意思进行匹配，而有特殊的意义，比如前文讲过用于量词的<code>?</code>、<code>*</code>、<code>+</code>。</p> <p>其他常见的特殊字符有：</p> <ol><li><code>\</code>：转义字符，可以将普通字符转成特殊字符。比如<code>\w</code>；也可以将特殊字符转成字面意思，比如 <code>\+</code> 匹配 <code>+</code>。</li> <li><code>.</code>：匹配任意单个字符，但是换行符除外：<code>\n</code>, <code>\r</code>, <code>\u2028</code> 或 <code>\u2029</code>；在字符集中<code>[.]</code>，无特殊含义，即表示 <code>.</code> 的字面意思。</li> <li><code>|</code>：替换字符（alternate character），匹配 <code>|</code> 前或后的表达式。比如需要同时匹配 <code>bear</code> 和 <code>pear</code>，可以使用 <code>/(b|p)ear/</code> 或者 <code>/bear|pear/</code>；但是不能用 <code>/b|pear/</code>，该表达式只能匹配 <code>b</code> 和 <code>pear</code>。</li> <li><code>^</code>：匹配输入的开始。比如，<code>/^A/</code> 不匹配 <code>an Apple</code> 中的 <code>A</code>，但匹配 <code>An apple</code> 中的 <code>A</code>。</li> <li><code>$</code>：匹配输入的结尾。比如，<code>/t$/</code> 不匹配 <code>eater</code> 中的 <code>t</code>，但匹配 <code>eat</code> 中的 <code>t</code>。</li></ol> <p><code>^</code> 和 <code>$</code> 在表单验证时常需要使用，因为需要验证从开始到结尾的一个完整输入，而不是匹配输入中的某一段。</p> <h3 id="groups（分组）"><a href="#groups（分组）" class="header-anchor">#</a> Groups（分组）</h3> <ol><li><code>(xyz)</code>：捕获分组（Capturing Group），匹配并捕获匹配项；例如，<code>/(foo)/</code> 匹配且捕获 <code>foo bar.</code> 中的 <code>foo</code>。</li></ol> <p>被匹配的子字符串可以在结果数组的元素 <code>[1], ..., [n]</code> 中找到，或在被定义的 RegExp 对象的属性 <code>$1, ..., $9</code> 中找到。</p> <ol start="2"><li><code>(?:xyz)</code>：非捕获分组（Non-capturing Group），匹配但不会捕获匹配项；匹配项不能再次被访问到。</li> <li><code>\n</code>：n 是一个正整数，表示反向引用（back reference），指向正则表达式中第 n 个括号（从左开始数）中匹配的子字符串；例如，<code>/apple(,)\sorange\1/</code> 匹配 <code>apple, orange, cherry, peach.</code> 中的 <code>apple, orange,</code>。</li></ol> <hr> <h4 id="我们来理解一下：“非捕获分组（non-capturing-group）”是什么意思？"><a href="#我们来理解一下：“非捕获分组（non-capturing-group）”是什么意思？" class="header-anchor">#</a> 我们来理解一下：“非捕获分组（Non-capturing Group）”是什么意思？</h4> <p>先执行如下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;at noonfooasfodsoo&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex">/(foo)/gi</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c1 <span class="token operator">=</span> regex<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> regex1 <span class="token operator">=</span> <span class="token regex">/(?:foo)/gi</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c2 <span class="token operator">=</span> regex1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>看看输出结果<code>c1</code>和<code>c2</code>值的区别：
<img src="/n-book/assets/img/regex_4.a99539a4.png" alt="regex_4"></p> <p>返回的数组中少了<code>[1]</code>的内容，我们到 regex101 上去也看看区别：
<img src="/n-book/assets/img/regex_5.cb571fc7.png" alt="regex_5"> <img src="/n-book/assets/img/regex_6.8ca9fd37.png" alt="regex_6">
所以使用<code>(?:xyz)</code>，意思是匹配并但不会捕获匹配项到 Group 中。</p> <hr> <h4 id="我们再来理解什么是“反向引用（back-reference）”"><a href="#我们再来理解什么是“反向引用（back-reference）”" class="header-anchor">#</a> 我们再来理解什么是“反向引用（back reference）”</h4> <p>如上例，<code>/apple(,)\sorange\1/</code>中的<code>\1</code>指的其实就是<code>(,)</code>，这个表达式等同的写法是<code>/apple(,)\sorange(,)/</code> <img src="/n-book/assets/img/regex_7.f4338f10.png" alt="regex_7"></p> <p>我们试试<code>\2</code>，也就是等价于左数第二个括号中的内容，看看匹配到的内容，我们在文本内容中再多加一个<code>,</code>：
<img src="/n-book/assets/img/regex_8.78d80a1b.png" alt="regex_8"></p> <h3 id="assertion（断言）"><a href="#assertion（断言）" class="header-anchor">#</a> Assertion（断言）</h3> <ol><li><code>x(?=y)</code>：仅匹配被 y 跟随的 x，这个也被称为：“先行断言”/“正向肯定查找”</li></ol> <p>例如，<code>/bruce(?=wayne)/</code>，如果<code>bruce</code>后面跟着<code>wayne</code>，则匹配<code>bruce</code>。</p> <p><code>/bruce(?=wayne|banner)/</code>，如果<code>bruce</code>后面跟着<code>wayne</code>或者<code>banner</code>，则匹配<code>bruce</code>。</p> <p><code>wayne</code> 和 <code>banner</code> 都不会在匹配结果中出现。</p> <ol start="2"><li><code>(?&lt;=y)x</code>：匹配'x'仅当'x'前面是'y'，这个也被称为：“后行断言”</li></ol> <p>例如，<code>(?&lt;=bruce)wayne</code>，如果<code>wayne</code>前面是<code>bruce</code>，则匹配<code>wayne</code>。
<img src="/n-book/assets/img/regex_12.bc7cafff.png" alt="regex_12"></p> <p><code>/(?&lt;=bruce|banner)wayne/</code>，如果<code>wayne</code>前面是<code>bruce</code>或者<code>banner</code>，则匹配<code>wayne</code>。
<img src="/n-book/assets/img/regex_13.2d8520aa.png" alt="regex_13"></p> <p><code>wayne</code> 和 <code>banner</code> 都不会在匹配结果中出现。</p> <ol start="3"><li><code>x(?!y)</code>：仅匹配不被 y 跟随的 x，这个也被称为：“正向否定查找”</li></ol> <p>例如，<code>/\d+(?!\.)/</code> 只会匹配不被 &quot;.&quot; 跟随的数字。</p> <p><code>/\d+(?!\.)/.exec('3.141')</code> 匹配 <code>141</code>，而不是 <code>3.141</code></p> <h2 id="非贪婪匹配（non-greedy）"><a href="#非贪婪匹配（non-greedy）" class="header-anchor">#</a> 非贪婪匹配（non-greedy）</h2> <p>默认情况下，正则表达式的量词<code>*</code>、<code>+</code>、<code>？</code>、<code>{}</code>，都是进行贪婪匹配（greedy），即匹配尽可能多的字符。</p> <p>非贪婪匹配，即匹配尽量少的字符(matching the fewest possible characters)。</p> <p>怎么理解呢？
例如这么一段话：<code>The reading of all good books is like a conversation with the finest men of past centuries.</code></p> <p>使用<code>/.+\s/</code>匹配，<code>.</code>可以匹配任意字符，而<code>+</code>表示匹配 1 次或者多次，默认是贪婪匹配，所以会匹配到了最后一个空格符才结束。
<img src="/n-book/assets/img/regex_10.8230a107.png" alt="regex_10"></p> <p>而当我们在量词<code>*</code>、<code>+</code>、<code>？</code>、<code>{}</code>后面紧跟着一个<code>?</code>，就可以实现非贪婪匹配。</p> <p>例如<code>/.+?\s/</code>，匹配到第一个空格符就会结束：
<img src="/n-book/assets/img/regex_11.92fa395f.png" alt="regex_11"></p> <h2 id="多行匹配"><a href="#多行匹配" class="header-anchor">#</a> 多行匹配</h2> <p>例如下面一段文字：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>May God bless and keep you always,
may your wishes all come true,
may you always do for others
and let others do for you.
may you build a ladder to the stars
and climb on every rung,
may you stay forever young,
forever young, forever young,
May you stay forever young.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>如何匹配以 forever 开头的那句歌词<code>forever young, forever young</code>呢？</p> <p>写<code>/^forever.+/</code>是错误的，因为<code>^</code>匹配的整个字符串的开始，而是不是每一行的开始。</p> <p>所以指定<code>m</code>选项，即可支持多行匹配，这时<code>^</code>和<code>$</code>匹配的是每一行的开始和结束，因此正确的正则表达式是<code>/^forever.+/m</code>：
<img src="/n-book/assets/img/regex_14.92b10fff.png" alt="regex_14"></p> <h2 id="应用例子"><a href="#应用例子" class="header-anchor">#</a> 应用例子</h2> <h3 id="_1-匹配手机号码"><a href="#_1-匹配手机号码" class="header-anchor">#</a> 1. 匹配手机号码</h3> <p>匹配<code>1(3/4/5/7/8)开头的11位数字</code>。</p> <ol><li>以 1 开头：<code>/^1/</code></li> <li>第 2 位为 3、4、5、7、8 中的一个：<code>/[34578]/</code> 或 <code>/(3|4|5|7|8)/</code></li> <li>剩余 3-11 位均为数字，并以数字结尾：<code>/\d{9}$/</code></li></ol> <p>组合起来即为 <code>/^1[34578]\d{9}$/</code> 或 <code>/^1(3|4|5|7|8)\d{9}$/</code>，因为使用捕获括号存在性能损失，所以推荐使用第一种写法。</p> <h3 id="_2-匹配电子邮件"><a href="#_2-匹配电子邮件" class="header-anchor">#</a> 2. 匹配电子邮件</h3> <p>标准的电子邮件组成为 <code>&lt;yourname&gt;@&lt;domain&gt;.&lt;extension&gt;&lt;optional-extension&gt;</code>。</p> <p>每部分的格式标准为：</p> <ol><li><code>yourname</code>：任意英文字母（a-z/A-Z）、数字（0-9）、下划线（_）、英文句点（.）、连字符（-），长度大于 0</li> <li><code>domain</code>：任意英文字母（a-z/A-Z）、数字（0-9）、连字符（-），长度大于 0</li> <li><code>extension</code>：任意英文字母（a-z/A-Z），长度 2-8</li> <li><code>optional-extension</code>：&quot;.&quot;开头，后面跟任意英文字母（a-z/A-Z），长度 2-8，可选</li></ol> <p>每部分的正则表达式为：</p> <ol><li><code>yourname</code>：<code>/[a-z\d._-]+/</code></li> <li><code>domain</code>：<code>/[a-z\d-]+/</code></li> <li><code>extension</code>：<code>/[a-z]{2,8}/</code></li> <li><code>optional-extension</code>：<code>/(\.[a-z]{2,8})?/</code></li></ol> <p>组合起来形成最后的正则表达式：<code>/^([a-z\d._-]+)@([a-z\d-]+)\.([a-z]{2,8})(\.[a-z]{2,8})?$/ig</code>；为了增加可读性可以将每部分用<code>()</code>包起来，并不要忘记起始和结束符<code>^$</code>。</p> <p><img src="/n-book/assets/img/regex_9.e8591177.png" alt="regex_9"></p> <p>掌握上面所说的这些内容，日常使用的正则基本不会有什么问题了。</p> <h2 id="参考文章"><a href="#参考文章" class="header-anchor">#</a> 参考文章</h2> <p><a href="https://segmentfault.com/a/1190000018489883" target="_blank" rel="noopener noreferrer">segmentfault<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener noreferrer">MDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/NiroDu/N-book/edit/master/docs/other/regular_expression.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">6/27/2019, 6:51:49 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/n-book/interview/MDN_note.html" class="prev">
          MDN笔记
        </a></span> <span class="next"><a href="/n-book/other/yarn_npm_resource_change.html">
          yarn、npm 更换下载源
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/n-book/assets/js/app.00669d2d.js" defer></script><script src="/n-book/assets/js/4.5c88fff9.js" defer></script>
  </body>
</html>
