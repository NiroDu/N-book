<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Prototypes and prototype chains (原型与原型链) | N-book</title>
    <meta name="description" content="记录一些技术方面的文章">
    <link rel="icon" href="/n-book/logo.png">
  <link rel="manifest" href="/n-book/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/n-book/assets/css/0.styles.8647af70.css" as="style"><link rel="preload" href="/n-book/assets/js/app.00669d2d.js" as="script"><link rel="preload" href="/n-book/assets/js/10.66c97b87.js" as="script"><link rel="prefetch" href="/n-book/assets/js/100.25cd6efd.js"><link rel="prefetch" href="/n-book/assets/js/11.d97ba4f9.js"><link rel="prefetch" href="/n-book/assets/js/12.8a7fa5f8.js"><link rel="prefetch" href="/n-book/assets/js/13.5c6c1dfb.js"><link rel="prefetch" href="/n-book/assets/js/14.c5caa02e.js"><link rel="prefetch" href="/n-book/assets/js/15.6bba582a.js"><link rel="prefetch" href="/n-book/assets/js/16.15881af1.js"><link rel="prefetch" href="/n-book/assets/js/17.58f3bf6d.js"><link rel="prefetch" href="/n-book/assets/js/18.41a59aa0.js"><link rel="prefetch" href="/n-book/assets/js/19.372839fc.js"><link rel="prefetch" href="/n-book/assets/js/20.366470b6.js"><link rel="prefetch" href="/n-book/assets/js/21.64ee41da.js"><link rel="prefetch" href="/n-book/assets/js/22.037051e6.js"><link rel="prefetch" href="/n-book/assets/js/23.aaf071e1.js"><link rel="prefetch" href="/n-book/assets/js/24.9323b659.js"><link rel="prefetch" href="/n-book/assets/js/25.efd078a6.js"><link rel="prefetch" href="/n-book/assets/js/26.e088dd56.js"><link rel="prefetch" href="/n-book/assets/js/27.23686290.js"><link rel="prefetch" href="/n-book/assets/js/28.7561d341.js"><link rel="prefetch" href="/n-book/assets/js/29.c2bccad7.js"><link rel="prefetch" href="/n-book/assets/js/3.a2cc91fe.js"><link rel="prefetch" href="/n-book/assets/js/30.e41777e5.js"><link rel="prefetch" href="/n-book/assets/js/31.8fa8342a.js"><link rel="prefetch" href="/n-book/assets/js/32.4a720fec.js"><link rel="prefetch" href="/n-book/assets/js/33.f4bcb093.js"><link rel="prefetch" href="/n-book/assets/js/34.b319e6cc.js"><link rel="prefetch" href="/n-book/assets/js/35.349f48cb.js"><link rel="prefetch" href="/n-book/assets/js/36.40f0f5b8.js"><link rel="prefetch" href="/n-book/assets/js/37.d825f129.js"><link rel="prefetch" href="/n-book/assets/js/38.03ef6cd3.js"><link rel="prefetch" href="/n-book/assets/js/39.5616fe5e.js"><link rel="prefetch" href="/n-book/assets/js/4.5c88fff9.js"><link rel="prefetch" href="/n-book/assets/js/40.06b60369.js"><link rel="prefetch" href="/n-book/assets/js/41.c8f4431f.js"><link rel="prefetch" href="/n-book/assets/js/42.611e129f.js"><link rel="prefetch" href="/n-book/assets/js/43.090fb933.js"><link rel="prefetch" href="/n-book/assets/js/44.95113469.js"><link rel="prefetch" href="/n-book/assets/js/45.7fd92109.js"><link rel="prefetch" href="/n-book/assets/js/46.411b0cb5.js"><link rel="prefetch" href="/n-book/assets/js/47.c4ed96a6.js"><link rel="prefetch" href="/n-book/assets/js/48.363d6e9d.js"><link rel="prefetch" href="/n-book/assets/js/49.a6580a6f.js"><link rel="prefetch" href="/n-book/assets/js/5.7ed2b6ce.js"><link rel="prefetch" href="/n-book/assets/js/50.80fdc641.js"><link rel="prefetch" href="/n-book/assets/js/51.9fca5b30.js"><link rel="prefetch" href="/n-book/assets/js/52.7a12bef7.js"><link rel="prefetch" href="/n-book/assets/js/53.0a0223c1.js"><link rel="prefetch" href="/n-book/assets/js/54.f5e1f5f6.js"><link rel="prefetch" href="/n-book/assets/js/55.3942d1de.js"><link rel="prefetch" href="/n-book/assets/js/56.6edb51e4.js"><link rel="prefetch" href="/n-book/assets/js/57.ea4bffdf.js"><link rel="prefetch" href="/n-book/assets/js/58.e7e0ee95.js"><link rel="prefetch" href="/n-book/assets/js/59.4098f04a.js"><link rel="prefetch" href="/n-book/assets/js/6.b2aebbbe.js"><link rel="prefetch" href="/n-book/assets/js/60.db12ab5e.js"><link rel="prefetch" href="/n-book/assets/js/61.031fb8bd.js"><link rel="prefetch" href="/n-book/assets/js/62.329f47c4.js"><link rel="prefetch" href="/n-book/assets/js/63.b2f2abcc.js"><link rel="prefetch" href="/n-book/assets/js/64.dc588d61.js"><link rel="prefetch" href="/n-book/assets/js/65.d599496d.js"><link rel="prefetch" href="/n-book/assets/js/66.69417e8c.js"><link rel="prefetch" href="/n-book/assets/js/67.d93755f8.js"><link rel="prefetch" href="/n-book/assets/js/68.f25092ea.js"><link rel="prefetch" href="/n-book/assets/js/69.2de4fe7c.js"><link rel="prefetch" href="/n-book/assets/js/7.157f3540.js"><link rel="prefetch" href="/n-book/assets/js/70.282e9d03.js"><link rel="prefetch" href="/n-book/assets/js/71.504f689e.js"><link rel="prefetch" href="/n-book/assets/js/72.a2d94f4f.js"><link rel="prefetch" href="/n-book/assets/js/73.07c4c964.js"><link rel="prefetch" href="/n-book/assets/js/74.89c222e9.js"><link rel="prefetch" href="/n-book/assets/js/75.820bdfb7.js"><link rel="prefetch" href="/n-book/assets/js/76.2407d5c9.js"><link rel="prefetch" href="/n-book/assets/js/77.ec939a5f.js"><link rel="prefetch" href="/n-book/assets/js/78.07709c00.js"><link rel="prefetch" href="/n-book/assets/js/79.cc7a4faa.js"><link rel="prefetch" href="/n-book/assets/js/8.c2fc7b68.js"><link rel="prefetch" href="/n-book/assets/js/80.fd9ef1eb.js"><link rel="prefetch" href="/n-book/assets/js/81.df45910d.js"><link rel="prefetch" href="/n-book/assets/js/82.450bb3f2.js"><link rel="prefetch" href="/n-book/assets/js/83.32c188fc.js"><link rel="prefetch" href="/n-book/assets/js/84.294bd5d9.js"><link rel="prefetch" href="/n-book/assets/js/85.6de4096a.js"><link rel="prefetch" href="/n-book/assets/js/86.0954b5d1.js"><link rel="prefetch" href="/n-book/assets/js/87.e7762817.js"><link rel="prefetch" href="/n-book/assets/js/88.97035a60.js"><link rel="prefetch" href="/n-book/assets/js/89.53a151f5.js"><link rel="prefetch" href="/n-book/assets/js/9.e94df2f4.js"><link rel="prefetch" href="/n-book/assets/js/90.a6f97b09.js"><link rel="prefetch" href="/n-book/assets/js/91.22f24c28.js"><link rel="prefetch" href="/n-book/assets/js/92.75844e0d.js"><link rel="prefetch" href="/n-book/assets/js/93.d6922f54.js"><link rel="prefetch" href="/n-book/assets/js/94.3dd08f5f.js"><link rel="prefetch" href="/n-book/assets/js/95.6a4c80ba.js"><link rel="prefetch" href="/n-book/assets/js/96.c25099ac.js"><link rel="prefetch" href="/n-book/assets/js/97.1e5183d7.js"><link rel="prefetch" href="/n-book/assets/js/98.bbdf3f45.js"><link rel="prefetch" href="/n-book/assets/js/99.a020358d.js"><link rel="prefetch" href="/n-book/assets/js/vendors~docsearch.8bf892cf.js">
    <link rel="stylesheet" href="/n-book/assets/css/0.styles.8647af70.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/n-book/" class="home-link router-link-active"><!----> <span class="site-name">N-book</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/n-book/" class="nav-link">Home</a></div><div class="nav-item"><a href="/n-book/typescript/" class="nav-link">TypeScript</a></div><div class="nav-item"><a href="/n-book/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="https://nirodu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/NiroDu/N-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/n-book/" class="nav-link">Home</a></div><div class="nav-item"><a href="/n-book/typescript/" class="nav-link">TypeScript</a></div><div class="nav-item"><a href="/n-book/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="https://nirodu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/NiroDu/N-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-group-items"><li><a href="/n-book/" class="sidebar-link">📖</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>JavaScripts专栏</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/n-book/javascript/this_in_js.html" class="sidebar-link">“This” in JS</a></li><li><a href="/n-book/javascript/about_js_this.html" class="sidebar-link">JS中对 this 的理解</a></li><li><a href="/n-book/javascript/closure.html" class="sidebar-link">闭包(Closures)</a></li><li><a href="/n-book/javascript/inheritance.html" class="sidebar-link">继承</a></li><li><a href="/n-book/javascript/prototypes_and_prototype_chains.html" class="active sidebar-link">Prototypes and prototype chains (原型与原型链)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/n-book/javascript/prototypes_and_prototype_chains.html#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/n-book/javascript/prototypes_and_prototype_chains.html#understanding-prototype-objects" class="sidebar-link">Understanding prototype objects</a></li><li class="sidebar-sub-header"><a href="/n-book/javascript/prototypes_and_prototype_chains.html#the-prototype-property-where-inherited-members-are-defined" class="sidebar-link">The prototype property: Where inherited members are defined</a></li><li class="sidebar-sub-header"><a href="/n-book/javascript/prototypes_and_prototype_chains.html#revisiting-create" class="sidebar-link">Revisiting create()</a></li><li class="sidebar-sub-header"><a href="/n-book/javascript/prototypes_and_prototype_chains.html#the-constructor-property" class="sidebar-link">The constructor property</a></li><li class="sidebar-sub-header"><a href="/n-book/javascript/prototypes_and_prototype_chains.html#modifying-prototypes" class="sidebar-link">Modifying prototypes</a></li><li class="sidebar-sub-header"><a href="/n-book/javascript/prototypes_and_prototype_chains.html#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/n-book/javascript/inheritance_and_prototype_chain_1.html" class="sidebar-link">Inheritance and the prototype chain 1 (继承与原型链 - 上)</a></li><li><a href="/n-book/javascript/inheritance_and_prototype_chain_2.html" class="sidebar-link">Inheritance and the prototype chain 2 (继承与原型链 - 下)</a></li><li><a href="/n-book/javascript/event_loop.html" class="sidebar-link">Event Loop（事件循环）</a></li><li><a href="/n-book/javascript/promise.html" class="sidebar-link">Promise</a></li><li><a href="/n-book/javascript/asynchronous_function.html" class="sidebar-link">asynchronous function（异步函数）</a></li><li><a href="/n-book/javascript/es6_classes.html" class="sidebar-link">ES6 Classes</a></li><li><a href="/n-book/javascript/iife.html" class="sidebar-link">IIFE (自执行函数)</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>React 专栏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Vue 专栏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Webpack 专栏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>TypeScript 专栏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>自动化测试</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Interview 专栏</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="prototypes-and-prototype-chains-原型与原型链"><a href="#prototypes-and-prototype-chains-原型与原型链" class="header-anchor">#</a> Prototypes and prototype chains (原型与原型链)</h1> <p>这篇文章主要解决两个问题：</p> <ol><li>what’s prototype chains? and how prototype object chains allow objects to inherit features from one another?
(什么是原型链？以及原型对象链如何允许一个对象从另一个对象中继承其特性？)</li> <li>what’s the prototype property? and how the prototype property can be used to add methods to existing constructors?
(原型属性是什么？以及如何使用原型属性向现有构造函数添加方法？)</li></ol> <h2 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h2> <blockquote><p>JavaScript is often described as a prototype-based language — <strong>each object has a prototype object</strong>, which acts as a template object that it inherits methods and properties from. An object's prototype object may also have a prototype object, which it inherits methods and properties from, and so on. This is often referred to as a <code>prototype chain</code>, and explains why different objects have properties and methods defined on other objects available to them.</p></blockquote> <p><strong>To be exact, the properties and methods are defined on the prototype property on the Objects' constructor functions, not the object instances themselves.</strong></p> <p>In JavaScript, a link is made between the object instance and its prototype (its <code>__proto__</code> property, which is derived from the prototype property on the constructor), and the properties and methods are found by walking up the chain of prototypes.</p> <div class="warning custom-block"><p class="custom-block-title">Note</p> <p>It's important to understand that there is a distinction between an <strong>object's prototype</strong> (which is available via <code>Object.getPrototypeOf(obj)</code>, or via the deprecated <strong>proto</strong> property) and <strong>the prototype property on constructor functions</strong>. The former is the property on each instance, and the latter is the property on the constructor. That is, <code>Object.getPrototypeOf(new Foobar())</code> refers to the same object as <code>Foobar.prototype</code>.</p></div> <h2 id="understanding-prototype-objects"><a href="#understanding-prototype-objects" class="header-anchor">#</a> Understanding prototype objects</h2> <p>Let's look at an example to make this a bit clearer:
In this example, we have defined a constructor function, like so:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> last<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> interests</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  <span class="token comment">// property and method definitions</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> first<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> last<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>We have then created an object instance like this:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Smith'</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'music'</span><span class="token punctuation">,</span> <span class="token string">'skiing'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This demonstrates the prototype chain working.
<img src="data:image/png;base64,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" alt="prototype_0"></p> <p>So what happens if you call a method on person1, which is actually defined on Object?
For example:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>person1<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This method simply returns the value of the object it is called on — try it and see! In this case, what happens is:</p> <ol><li>The browser initially checks to see if the <code>person1</code> object has a <code>valueOf()</code> method available on it.</li> <li>It doesn't, so the browser then checks to see if the <code>person1 object's prototype object</code> (Person() constructor's prototype) has a <code>valueOf()</code> method available on it.</li> <li>It doesn't either, so the browser then checks to see if the <code>Person() constructor's prototype object's prototype object</code>(Object() constructor's prototype) has a <code>valueOf()</code> method available on it. It does, so it is called, and all is good!</li></ol> <div class="warning custom-block"><p class="custom-block-title">Note</p> <p>There isn't officially a way to access an object's prototype object directly — the &quot;links&quot; between the items in the chain are defined in an internal property, referred to as <code>[[prototype]]</code> in the specification for the JavaScript language. Most modern browsers however do have a property available on them called <code>__proto__</code>, which contains the object's constructor's prototype object. For example, try <code>person1.__proto__</code> and <code>person1.__proto__.__proto__</code> to see what the chain looks like in code!</p></div> <p>This demonstrates <code>person1.__proto__</code> and <code>person1.__proto__.__proto__</code> structure:
<img src="/n-book/assets/img/prototype_1.ee57ef0f.png" alt="prototype_1"></p> <p>Since ECMAScript 2015 we can access an object's prototype object indirectly via <code>Object.getPrototypeOf(obj)</code>.
<img src="/n-book/assets/img/prototype_2.9d1a55ad.png" alt="prototype_2"></p> <h2 id="the-prototype-property-where-inherited-members-are-defined"><a href="#the-prototype-property-where-inherited-members-are-defined" class="header-anchor">#</a> The prototype property: Where inherited members are defined</h2> <p>我们可以在看到 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 很多的 Object’s Methods.
为什么这些方法有些是可以被继承的，有些不可以被继承呢？</p> <p>The answer is that <strong>the inherited ones are the ones defined on the prototype property</strong> (you could call it a sub-namespace) — that is, the ones that begin with <code>Object.prototype</code>., and not the ones that begin with just <code>Object</code>.</p> <p>The prototype property's value is an object, which is basically a bucket for storing properties and methods that we want to be inherited by objects further down the prototype chain.</p> <p>So <code>Object.prototype.watch()</code>, <code>Object.prototype.valueOf()</code>, etc., are available to any object types that inherit from <code>Object.prototype</code>, including new object instances created from the constructor.</p> <p><code>Object.is()</code>, <code>Object.keys()</code>, and other members <strong>not</strong> defined inside the prototype bucket are <strong>not</strong> inherited by object instances or object types that inherit from <code>Object.prototype</code>. They are methods/properties available just on the <code>Object()</code>constructor itself.</p> <p>So, maybe you will feel strange, <strong>how can you have a method defined on a constructor, which is itself a function?</strong>
Well, a function is also a type of object — see the Function() constructor reference if you don't believe us.</p> <ol><li>You can check out existing prototype properties for yourself — go back to our previous example and try entering the following into the JavaScript console:</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>The output won't show you very much — after all, we haven't defined anything on our custom constructor's prototype! By default, a constructor's prototype always starts empty. Now try the following:</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/n-book/assets/img/prototype_3.ab1aa9a8.png" alt="prototype_3"></p> <p>You'll see a large number of methods defined on <strong>Object's prototype property</strong>, which are then available on objects that inherit from Object, as shown earlier.</p> <p>You'll see other examples of prototype chain inheritance all over JavaScript — try looking for the methods and properties defined on the prototype of the <code>String</code>, <code>Date</code>, <code>Number</code>, and <code>Array</code> global objects, for example. These all have a number of members defined on their prototype, which is why for example when you create a string, like this:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> myString <span class="token operator">=</span> <span class="token string">'This is my string.'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>myString</code> immediately has a number of useful methods available on it, like <code>split()</code>, <code>indexOf()</code>, <code>replace()</code>, etc.</p> <h2 id="revisiting-create"><a href="#revisiting-create" class="header-anchor">#</a> Revisiting create()</h2> <p>the <code>Object.create()</code> method can be used to create a new object instance.</p> <p>For example, try this in your previous example's JavaScript console:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> person2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>What <code>create()</code> actually does is to create a new object from a specified prototype object. Here, <code>person2</code> is being created using <code>person1</code> as a prototype object. You can check this by entering the following in the console:</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>person2<span class="token punctuation">.</span>__proto__
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This will return the <code>person1</code>.</p> <p><img src="/n-book/assets/img/prototype_4.336d626a.png" alt="prototype_4"></p> <h2 id="the-constructor-property"><a href="#the-constructor-property" class="header-anchor">#</a> The constructor property</h2> <p>Properties defined on the <strong>Person.prototype property</strong> become available to all the instance objects created using the <strong>Person() constructor</strong>. Hence, the constructor property is also available to both <code>person1</code> and <code>person2</code> objects.</p> <p>For example, try these commands in the console:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>person1<span class="token punctuation">.</span>constructor
person2<span class="token punctuation">.</span>constructor
<span class="token comment">// These should both return the Person() constructor, as it contains the original definition of these instances.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/n-book/assets/img/prototype_5.7f933172.png" alt="prototype_5"></p> <p>The constructor property has other uses. For example, if you have an object instance and you want to return the name of the constructor it is an instance of, you can use the following:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>person1<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name
<span class="token comment">// return &quot;Person&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">Note</p> <p>The value of <code>constructor.name</code> can change (due to prototypical inheritance, binding, preprocessors, transpilers, etc.), so for more complex examples you'll want to use the <code>instanceof</code> operator instead.</p></div> <h2 id="modifying-prototypes"><a href="#modifying-prototypes" class="header-anchor">#</a> Modifying prototypes</h2> <p><strong>Question: how the prototype property can be used to add methods to existing constructors?</strong></p> <p>很简单，直接添加到<code>constructors</code> 的<code>prototype</code>上即可，例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">farewell</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">+</span> <span class="token string">' has left the building. Bye for now!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这样便可以在 <code>Person</code> 的 <code>prototype</code> 上新增方法 <code>farewell</code>。</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>In fact, a fairly common pattern for more object definitions is to <strong>define the properties inside the constructor, and the methods on the prototype.</strong> This makes the code easier to read, as the constructor only contains the property definitions, and the methods are split off into separate blocks.</p></div> <p>Like This:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Constructor with property definitions</span>
<span class="token keyword">function</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// property definitions</span>
<span class="token punctuation">}</span>

<span class="token comment">// First method definition</span>
<span class="token class-name">Test</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">x</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Second method definition</span>
<span class="token class-name">Test</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">y</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// etc.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <p><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_prototypes" target="_blank" rel="noopener noreferrer">Object prototypes - Learn web development | MDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/NiroDu/N-book/edit/master/docs/javascript/prototypes_and_prototype_chains.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">3/18/2019, 6:37:12 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/n-book/javascript/inheritance.html" class="prev">
          继承
        </a></span> <span class="next"><a href="/n-book/javascript/inheritance_and_prototype_chain_1.html">
          Inheritance and the prototype chain 1 (继承与原型链 - 上)
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/n-book/assets/js/app.00669d2d.js" defer></script><script src="/n-book/assets/js/10.66c97b87.js" defer></script>
  </body>
</html>
